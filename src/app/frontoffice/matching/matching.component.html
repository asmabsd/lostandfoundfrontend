<div class="container mt-4">
  <h2 class="text-center mb-4">🔍 Matching Of Your Lost Items</h2>

  <div class="row row-cols-1 row-cols-md-2 g-4">
    <div *ngFor="let item of lostItems" class="col">
      <div class="card shadow-sm h-100">
        <img *ngIf="item.photo" 
             [src]="'/api/v1/items/uploads/' + item.photo"
             class="card-img-top"
             alt="Photo de l'objet"
             style="height: 200px; object-fit: cover;">

        <div class="card-body">
          <h5 class="card-title">{{ item.type }}</h5>
          <p class="card-text">{{ item.description }}</p>
          <p><strong>Location:</strong> {{ item.location }}</p>
          <p><strong>Date:</strong> {{ item.date }}</p>
        </div>

        <div class="card-footer d-flex justify-content-between align-items-center">
  
          <button 
            class="btn btn-outline-primary btn-sm" 
            (click)="item.id !== undefined && getMatches(item.id)">
            {{ isPremium ? '🤖 Matching IA' : '🧠 Matching Basique' }}
          </button>
          
        </div>

        <div *ngIf="item.id !== undefined && matchesMap[item.id]" class="p-3 border-top">
          <p [innerHTML]="messageMap[item.id]"></p>

          <ul *ngIf="matchesMap[item.id].length > 0">
            <li *ngFor="let match of matchesMap[item.id]">
              {{ iconMap[item.id] }} {{ match.type }} - {{ match.location }} - {{ match.date }}

                <a 
    class="btn btn-outline-info btn-sm" 
    [routerLink]="['/frontoffice/start/item-details', match.id]">
    📄 Voir les détails
  </a>
            </li>
          </ul>
        </div>
                
      </div>
    </div>
  </div>
</div>
